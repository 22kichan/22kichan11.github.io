

# Domain Name System (DNS)

> **DNS : 도메인 네임을 IP 주소로 변환하여 알려 주는 역할**
>
>  **(컴퓨터의 ip주소를 사람이 기억하기 쉽게 단어로 부른다.)**
>
> ex)원래 다음에 접속하려면, 123.123.489.234로 접속해야하지만,  www.daum.net 을 입력해도 접속이 가능한 것이 DNS 로 인해 가능하다.

#### 도메인의 역사

* 1) 가장 초기의 네트워크 접속방법
  * 컴퓨터가 많이 없었기 때문에, 사용자가 모두 외워서 직접 ip주소로 접근한다
* 2) hosts 파일을 이용하여 네트워크 접속
  * 컴퓨터가 많아져서, hosts파일이라는 문서에 ip주소를 기록해 놓는 방식을 사용
  * Windows:  C:\Windows\system32\drivers\etc\hosts  리눅스 : /etc/hosts 에 저장되어 있다.
* 3)  NameServer를 이용하여 네트워크 접속
  * 이름을 해석해주는 서버컴퓨터가 필요해짐(DNS서버 = 네임서버)
  * 네임서버는 실시간으로 변화하는 url과 ip정보를 실시간으로 제공한다.

#### 도메인 이름체계

* 몇대의 네임서버로는 실시간으로 수많은 컴퓨터를 관리할 수 없게 되었다.
* 그래서 트리 구조와 같은 '도메인 이름 체계'를 고안함. 



### ip 주소를 얻는 내부 흐름

![image-20210414115255720](/image-20210414115255720.png



![image-20210414103620684](/image-20210414103620684.png)



#### 로컬 네임서버가 작동하는 순서

* PC가 사용하는 네임서버는 /etc/resolve.conf파일에 설정되어 있는데, 이 네임서버를 로컬네임서버라고한다.
* www.nate.com의 ip주소를 요구하면 이 로컬 네임서버에 질문을 한다.
* 하지만, 로컬 네임서버가 혼자서 모든 컴퓨터 관리 불가하기 때문에 아래 그림처럼 동작한다.
* 1. pc는 로컬네임서버의 자신의 캐시를 검색(대부분 없음)
  2. 로컬네임서버는 rootname서버에 질의 (없음) Com 네임서버로 가라고 함
  3. com 네임서버도 없음 -> nate.com서버로 가라고 함. nate로컬네임서버에 캐시가 존제하고
  4. 네이트 로컬네임서버에는 www. ftp, mail 이 저장되어 있음.
* ![image-20210414114401103](/image-20210414114401103.png)

<img src="/image-20210414115329920.png" alt="image-20210414115329920" style="zoom:80%;" />











---------------------------------

## 실습

### Domain name으로 ip서버를 찾기

![image-20210414102624142](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210414102624142.png)

## DNS 서버 변경하기



![image-20210414115456599](/image-20210414115456599.png)

![image-20210414115510294](/image-20210414115510294.png)

![image-20210414115517362](/image-20210414115517362.png)

![image-20210414115525214](/image-20210414115525214.png)

![image-20210414115531881](/image-20210414115531881.png)

![image-20210414115540089](/image-20210414115540089.png)

